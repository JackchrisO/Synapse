#:import dp kivy.metrics.dp
#:import MDRaisedButton kivymd.uix.button.MDRaisedButton
#:import MDFlatButton kivymd.uix.button.MDFlatButton
#:import MDTextField kivymd.uix.textfield.MDTextField
#:import MDLabel kivymd.uix.label.MDLabel
#:import MDTopAppBar kivymd.uix.toolbar.MDTopAppBar

ScreenManager:
    id: screen_manager

    MDScreen:
        name: "login"

        MDBoxLayout:
            orientation: "vertical"
            padding: dp(20)
            spacing: dp(15)

            MDLabel:
                text: "SYNAPSE"
                font_style: "H3"
                halign: "center"

            MDLabel:
                text: "Não deixe o sistema nervoso"
                halign: "center"
                theme_text_color: "Secondary"

            MDTextField:
                id: login_user
                hint_text: "Usuário"

            MDTextField:
                id: login_pwd
                hint_text: "Senha"
                password: True

            MDLabel:
                id: login_msg
                text: ""
                theme_text_color: "Error"
                halign: "center"

            MDRaisedButton:
                text: "Entrar"
                on_release: app.login()

            MDRaisedButton:
                text: "Cadastrar"
                on_release: app.root.current = "cadastro"

    MDScreen:
        name: "cadastro"

        MDBoxLayout:
            orientation: "vertical"
            padding: dp(20)
            spacing: dp(15)

            MDLabel:
                text: "CADASTRO"
                font_style: "H4"
                halign: "center"

            MDTextField:
                id: cad_nome
                hint_text: "Nome"

            MDTextField:
                id: cad_idade
                hint_text: "Idade"

            MDTextField:
                id: cad_pwd
                hint_text: "Senha"
                password: True

            MDLabel:
                id: cad_msg
                text: ""
                theme_text_color: "Error"
                halign: "center"

            MDRaisedButton:
                text: "Salvar"
                on_release: app.cadastrar()

            MDRaisedButton:
                text: "Voltar"
                on_release: app.root.current = "login"

    MDScreen:
        name: "principal"

        MDBoxLayout:
            orientation: "vertical"
            padding: dp(20)
            spacing: dp(15)

            MDTopAppBar:
                title: "Menu Principal"
                left_action_items: [["logout", lambda x: app.sair()]]

            MDRaisedButton:
                text: "Registrar Crises"
                on_release: app.root.current = "crises"

            MDRaisedButton:
                text: "Diário"
                on_release: app.root.current = "diario"

            MDRaisedButton:
                text: "Medicamentos"
                on_release: app.root.current = "meds"

            MDRaisedButton:
                text: "Consultas"
                on_release: app.root.current = "consultas"

            MDRaisedButton:
                text: "Atividades Físicas"
                on_release: app.root.current = "atividades"

            MDRaisedButton:
                text: "Alimentação"
                on_release: app.root.current = "alimentacao"

            MDRaisedButton:
                text: "Análise"
                on_release: app.root.current = "analise"

    MDScreen:
        name: "crises"

        MDBoxLayout:
            orientation: "vertical"

            MDTopAppBar:
                title: "Crises"
                left_action_items: [["arrow-left", lambda x: app.root.current = "principal"]]

    MDScreen:
        name: "diario"

        MDBoxLayout:
            orientation: "vertical"

            MDTopAppBar:
                title: "Diário"
                left_action_items: [["arrow-left", lambda x: app.root.current = "principal"]]

    MDScreen:
        name: "meds"

        MDBoxLayout:
            orientation: "vertical"

            MDTopAppBar:
                title: "Medicamentos"
                left_action_items: [["arrow-left", lambda x: app.root.current = "principal"]]

    MDScreen:
        name: "consultas"

        MDBoxLayout:
            orientation: "vertical"

            MDTopAppBar:
                title: "Consultas"
                left_action_items: [["arrow-left", lambda x: app.root.current = "principal"]]

    MDScreen:
        name: "atividades"

        MDBoxLayout:
            orientation: "vertical"

            MDTopAppBar:
                title: "Atividades"
                left_action_items: [["arrow-left", lambda x: app.root.current = "principal"]]

    MDScreen:
        name: "alimentacao"

        MDBoxLayout:
            orientation: "vertical"

            MDTopAppBar:
                title: "Alimentação"
                left_action_items: [["arrow-left", lambda x: app.root.current = "principal"]]

    MDScreen:
        name: "analise"

        MDBoxLayout:
            orientation: "vertical"

            MDTopAppBar:
                title: "Análise"
                left_action_items: [["arrow-left", lambda x: app.root.current = "principal"]]
